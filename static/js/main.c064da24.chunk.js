(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(2),a=(n(38),n(22)),r=n.n(a),s=n(15),o=n(26),i=n(32),l=n(27),u=n(14),j=n(36),p=n(33),d=n.n(p),b=n(4),O="GET_CONTACT",m="GET_CONTACT_SUCCESS",h="GET_CONTACT_ERROR",x="ADD_CONTACT",f="REMOVE_CONTACT",v="CLEAR_CONTACT",C="CLEAR_CONTACT_SUCCESS",N="UPDATE_CONTACT_SUCCESS",T="UPDATE_CONTACT_ERROR";function g(e){return{type:h,error:e}}function A(e){return{type:N,payload:e}}var S={contacts:[],contactTotal:0};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(b.a)({},e);case N:case C:return Object(b.a)(Object(b.a)(Object(b.a)({},e),{contacts:t.payload.contacts}),{contactTotal:t.payload.contactTotal});case h:case T:return Object(b.a)(Object(b.a)({},e),{error:t.error});default:return e}},E="GET_APPOINTMENT",P="GET_APPOINTMENT_SUCCESS",k="GET_APPOINTMENT_ERROR",w="ADD_APPOINTMENT",_="REMOVE_APPOINTMENT",R="CLEAR_APPOINTMENT",I="CLEAR_APPOINTMENT_SUCCESS",D="UPDATE_APPOINTMENT_SUCCESS",J="UPDATE_APPOINTMENT_ERROR";function M(e){return{type:k,error:e}}function U(e){return{type:D,payload:e}}var G={appointments:[],appointmentTotal:0};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(b.a)({},e);case D:case I:return Object(b.a)(Object(b.a)(Object(b.a)({},e),{appointments:t.payload.appointments}),{appointmentTotal:t.payload.appointmentTotal});case k:case J:return Object(b.a)(Object(b.a)({},e),{error:t.error});default:return e}},V=Object(u.b)({contact:y,appointment:L}),X=n(8),q=n.n(X),B=n(5),F=q.a.mark(Q),Y=q.a.mark(W),z=q.a.mark(Z),H=q.a.mark($),K=q.a.mark(ee);function Q(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.b)({type:m});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(B.b)(g(e.t0));case 9:case"end":return e.stop()}}),F,null,[[0,5]])}function W(e){var t,n,c;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.contact,n=JSON.parse(localStorage.getItem("persist:Appointments")).contact,(c=JSON.parse(n)).contacts.push(t),c.contactTotal++,a.next=8,Object(B.b)(A(c));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(B.b)(g(a.t0));case 14:case"end":return a.stop()}}),Y,null,[[0,10]])}function Z(e){var t,n,c;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.contact,n=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).contact),c=n.contacts.findIndex((function(e){return e.id===t.id})),n.contactTotal=n.contactTotal-1,n.contacts.splice(c,1),0===n.contacts.length&&(n.contacts=[],n.contactTotal=0),a.next=9,Object(B.b)(A(n));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(B.b)(g(a.t0));case 15:case"end":return a.stop()}}),z,null,[[0,11]])}function $(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={contacts:[],contactTotal:0},t.next=4,Object(B.b)(A(e));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Object(B.b)((n=t.t0,{type:T,payload:n}));case 10:case"end":return t.stop()}var n}),H,null,[[0,6]])}function ee(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([Object(B.c)(O,Q)]);case 2:return e.next=4,Object(B.a)([Object(B.c)(x,W)]);case 4:return e.next=6,Object(B.a)([Object(B.c)(f,Z)]);case 6:return e.next=8,Object(B.a)([Object(B.c)(v,$)]);case 8:return e.next=10,Object(B.a)([Object(B.c)(C,$)]);case 10:case"end":return e.stop()}}),K)}var te=q.a.mark(se),ne=q.a.mark(oe),ce=q.a.mark(ie),ae=q.a.mark(le),re=q.a.mark(ue);function se(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.b)({type:P});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(B.b)(M(e.t0));case 9:case"end":return e.stop()}}),te,null,[[0,5]])}function oe(e){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(q.a.mark((function t(){var n,c,a,r,s,o,i,l;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.appointment,c=JSON.parse(localStorage.getItem("persist:Appointments")).appointment,a=JSON.parse(c),r=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).contact),s=[],o=n.contacts,i=function(e){var t=r.contacts.find((function(t){return t.id===parseInt(o[e])}));s.push(t)},l=0;l<o.length;l++)i(l);return n.contacts=s,a.appointments.push(n),a.appointmentTotal++,t.next=13,Object(B.b)(U(a));case 13:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=8;break;case 4:return t.prev=4,t.t1=t.catch(0),t.next=8,Object(B.b)(M(t.t1));case 8:case"end":return t.stop()}}),ne,null,[[0,4]])}function ie(e){var t,n,c;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.appointment,n=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).appointment),c=n.appointments.findIndex((function(e){return e.id===t.id})),n.appointTotal=n.appointTotal-1,n.appointments.splice(c,1),0===n.appointments.length&&(n.appointments=[],n.appointTotal=0),a.next=9,Object(B.b)(U(n));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(B.b)(M(a.t0));case 15:case"end":return a.stop()}}),ce,null,[[0,11]])}function le(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={appointments:[],appointmentTotal:0},t.next=4,Object(B.b)(U(e));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Object(B.b)((n=t.t0,{type:J,payload:n}));case 10:case"end":return t.stop()}var n}),ae,null,[[0,6]])}function ue(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([Object(B.c)(E,se)]);case 2:return e.next=4,Object(B.a)([Object(B.c)(w,oe)]);case 4:return e.next=6,Object(B.a)([Object(B.c)(_,ie)]);case 6:return e.next=8,Object(B.a)([Object(B.c)(R,le)]);case 8:case"end":return e.stop()}}),re)}var je=q.a.mark(pe);function pe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([ee(),ue()]);case 2:case"end":return e.stop()}}),je)}var de={key:"Appointments",storage:d.a,whitelist:["contact","appointment"]},be=Object(o.a)(de,V);var Oe=function(e){var t,n=Object(j.a)(),c=Object(u.d)(be,e,(t=[n],u.a.apply(void 0,Object(l.a)(t))));return c.sagaTask=n.run(pe),c},me=n(17),he=n(9),xe=(n(48),n(19)),fe=n(16),ve=n(60),Ce=(n(49),n(0)),Ne=function(e){var t=e.appointment,n=e.removeAppointment,c=t.contacts.map((function(e){return Object(Ce.jsxs)("label",{className:"attendee",children:["\ud83d\udc64",e.name," | ",e.email]},e.id)}));return Object(Ce.jsxs)("div",{className:"appointment-container",children:[Object(Ce.jsxs)("div",{className:"section",children:[Object(Ce.jsxs)("h2",{children:["\ud83d\udd16 ",t.title]}),c,Object(Ce.jsxs)("h5",{children:["\ud83d\uddd3\ufe0f ",t.date," | \ud83d\udd51",t.time]})]}),Object(Ce.jsx)(ve.a,{variant:"danger",className:"col-md-1",onClick:function(){return n(t)},children:"X"})]})},Te=(n(51),Object(s.b)((function(e){return{data:e.appointment}}),(function(e){return{onRemovePressed:function(t){return e(function(e){return{type:_,appointment:e}}(t))}}}))((function(e){var t=e.data,n=e.onRemovePressed,c=t.appointments;return Object(Ce.jsxs)("div",{className:"appointment-list-header",children:[c.map((function(e){return Object(Ce.jsx)(Ne,{appointment:e,removeAppointment:n},e.id)})),0===c.length&&Object(Ce.jsx)("div",{className:"empty-list",children:Object(Ce.jsx)("label",{children:"\ud83d\udcd2 No any appointment added yet. Please fill the form to add an appointment..."})})]})}))),ge=function(e){var t=e.contacts,n=(e.data,e.handleSelect),c=e.selectedContacts,a=t.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.name},e.id)}));return Object(Ce.jsx)("select",{multiple:!0,value:c,onChange:n,name:"contact",children:a})},Ae=(n(52),function(e){var t=e.onChange,n=e.contacts,c=e.handleSubmit,a=e.handleSelect,r=e.selectedContacts;return Object(Ce.jsxs)("form",{onSubmit:c,children:[Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Title"}),Object(Ce.jsx)("input",{type:"text",name:"title",onChange:t})]}),Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Contacts"})," ",Object(Ce.jsx)(me.b,{to:"/contacts",className:"link",children:"\ud83c\udd95 Add contact"}),Object(Ce.jsx)(ge,{name:"contact",handleSelect:a,selectedContacts:r,contacts:n,onChange:t})]}),Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Date"}),Object(Ce.jsx)("input",{type:"date",name:"date",onChange:t})]}),Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Time"}),Object(Ce.jsx)("input",{type:"time",name:"time",onChange:t})]}),Object(Ce.jsx)("input",{type:"submit",value:"ADD"})]})}),Se=(n(55),Object(s.b)((function(e){return{data:e.appointment,contacts:e.contact.contacts}}),(function(e){return{onClearPressed:function(){return e({type:R,payload:t});var t},onCreatePressed:function(t){return e(function(e){return{type:w,appointment:e}}(t))}}}))((function(e){var t=e.data,n=e.contacts,a=e.onCreatePressed,r=e.onClearPressed,s=Object(c.useState)({}),o=Object(fe.a)(s,2),i=o[0],u=o[1],j=Object(c.useState)([]),p=Object(fe.a)(j,2),d=p[0],O=p[1];return Object(Ce.jsxs)("div",{className:"content",children:[Object(Ce.jsxs)("section",{children:[Object(Ce.jsx)("h1",{children:"Add Appointment"}),Object(Ce.jsx)("hr",{}),Object(Ce.jsx)(Ae,{contacts:n,handleSubmit:function(e){if(e.preventDefault(),!i.title||!i.date||!i.time)return alert("Please fill all required fields");e.target.reset();var n=i;n.id=t.appointmentTotal+1,n.contacts=d,a(n),u({}),O([])},onChange:function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(xe.a)({},e.target.name,e.target.value))}))},handleSelect:function(e){var t=Array.from(e.target.selectedContacts,(function(e){return e.value}));if(d.includes(t[0]))return alert("Already Selected!!!");O((function(e){return[].concat(Object(l.a)(e),[t[0]])}))},selectedContacts:d})]}),Object(Ce.jsxs)("section",{children:[Object(Ce.jsxs)("div",{className:"appointments-header",children:[Object(Ce.jsx)("h1",{children:"Appointments"}),Object(Ce.jsx)(ve.a,{variant:"danger",onClick:function(){return r()},children:"Clear All"})]}),Object(Ce.jsx)("hr",{}),Object(Ce.jsx)(Te,{})]})]})}))),ye=(n(56),function(e){var t=e.contact,n=e.removeContact;return Object(Ce.jsxs)("div",{className:"contact-container",children:[Object(Ce.jsxs)("div",{className:"section",children:[Object(Ce.jsxs)("h2",{children:["\ud83d\udc64 ",t.name]}),Object(Ce.jsxs)("h4",{children:["\u2709\ufe0f ",t.email]}),Object(Ce.jsxs)("h5",{children:["\ud83d\udcf1 ",t.phone]})]}),Object(Ce.jsx)(ve.a,{variant:"danger",className:"col-md-1",onClick:function(){return n(t)},children:"X"})]})}),Ee=(n(57),Object(s.b)((function(e){return{data:e.contact}}),(function(e){return{onRemovePressed:function(t){return e(function(e){return{type:f,contact:e}}(t))}}}))((function(e){var t=e.data,n=e.onRemovePressed,c=t.contacts;return Object(Ce.jsxs)("div",{className:"contact-list-header",children:[c.map((function(e){return Object(Ce.jsx)(ye,{contact:e,removeContact:n},e.id)})),0===c.length&&Object(Ce.jsx)("div",{className:"empty-list",children:Object(Ce.jsx)("label",{children:"\ud83d\udc64 No any Contact added yet.Please fill the form to add Contact!"})})]})}))),Pe=function(e){var t=e.onChange,n=e.handleSubmit;return Object(Ce.jsxs)("form",{onSubmit:n,children:[Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Name"}),Object(Ce.jsx)("input",{type:"text",name:"name",onChange:t})]}),Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Phone"}),Object(Ce.jsx)("input",{type:"tel",name:"phone",onChange:t})]}),Object(Ce.jsxs)("div",{className:"form-group",children:[Object(Ce.jsx)("label",{children:"Email"}),Object(Ce.jsx)("input",{type:"email",name:"email",onChange:t})]}),Object(Ce.jsx)("input",{type:"submit",value:"ADD"})]})},ke=(n(58),Object(s.b)((function(e){return{contacts:e.contact}}),(function(e){return{onClearPressed:function(){return e({type:v,payload:t});var t},onCreatePressed:function(t){return e(function(e){return{type:x,contact:e}}(t))}}}))((function(e){var t=e.contacts,n=e.onCreatePressed,a=e.onClearPressed,r=Object(c.useState)({}),s=Object(fe.a)(r,2),o=s[0],i=s[1];return Object(Ce.jsxs)("div",{className:"content",children:[Object(Ce.jsxs)("section",{children:[Object(Ce.jsx)("h1",{children:"Add Contact"}),Object(Ce.jsx)("hr",{}),Object(Ce.jsx)(Pe,{handleSubmit:function(e){e.preventDefault(),e.target.reset();var c=o;return o.name&&o.phone&&o.email?t.contacts.find((function(e){return e.phone===o.phone||e.email===o.email||e.name===o.name}))?alert("Already Exist"):(c.id=t.contactTotal+1,n(c),void i({})):alert("Please add contact")},onChange:function(e){i((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(xe.a)({},e.target.name,e.target.value))}))}})]}),Object(Ce.jsxs)("section",{children:[Object(Ce.jsxs)("div",{className:"contacts-header",children:[Object(Ce.jsx)("h1",{children:"Contacts"}),Object(Ce.jsx)(ve.a,{variant:"danger",onClick:function(){return a()},children:"Clear All"})]}),Object(Ce.jsx)("hr",{}),Object(Ce.jsx)(Ee,{})]})]})})));var we=function(){var e="/contacts",t="/appointments";return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("nav",{children:Object(Ce.jsxs)("div",{className:"nav-header",children:[Object(Ce.jsx)(me.b,{to:e,className:"link",activeClassName:"active",children:"Contacts"}),Object(Ce.jsx)(me.b,{to:t,className:"link",activeClassName:"active",children:"Appointments"})]})}),Object(Ce.jsx)("main",{children:Object(Ce.jsxs)(he.d,{children:[Object(Ce.jsx)(he.b,{exact:!0,path:"/",children:Object(Ce.jsx)(he.a,{to:e})}),Object(Ce.jsx)(he.b,{path:e,children:Object(Ce.jsx)(ke,{})}),Object(Ce.jsx)(he.b,{path:t,children:Object(Ce.jsx)(Se,{})})]})})]})},_e=Object(Ce.jsx)(me.a,{children:Object(Ce.jsx)(we,{})}),Re=Oe({}),Ie=Object(o.b)(Re);r.a.render(Object(Ce.jsx)(s.a,{store:Re,children:Object(Ce.jsx)(i.PersistGate,{loading:Object(Ce.jsx)("div",{children:"Loading..."}),persistor:Ie,children:_e})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.c064da24.chunk.js.map