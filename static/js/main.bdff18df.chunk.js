(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{43:function(e,t,n){},54:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=(n(43),n(44),n(22)),r=n.n(a),s=n(16),o=n(26),i=n(34),l=n(27),u=n(15),j=n(41),p=n(35),d=n.n(p),b=n(4),O="GET_CONTACT",m="GET_CONTACT_SUCCESS",h="GET_CONTACT_ERROR",x="ADD_CONTACT",f="REMOVE_CONTACT",v="CLEAR_CONTACT",C="CLEAR_CONTACT_SUCCESS",N="UPDATE_CONTACT_SUCCESS",T="UPDATE_CONTACT_ERROR";function g(e){return{type:h,error:e}}function y(e){return{type:N,payload:e}}var A={contacts:[],contactTotal:0};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(b.a)({},e);case N:case C:return Object(b.a)(Object(b.a)(Object(b.a)({},e),{contacts:t.payload.contacts}),{contactTotal:t.payload.contactTotal});case h:case T:return Object(b.a)(Object(b.a)({},e),{error:t.error});default:return e}},k="GET_APPOINTMENT",E="GET_APPOINTMENT_SUCCESS",P="GET_APPOINTMENT_ERROR",w="ADD_APPOINTMENT",_="REMOVE_APPOINTMENT",R="CLEAR_APPOINTMENT",D="CLEAR_APPOINTMENT_SUCCESS",I="UPDATE_APPOINTMENT_SUCCESS",M="UPDATE_APPOINTMENT_ERROR";function J(e){return{type:P,error:e}}function U(e){return{type:I,payload:e}}var G={appointments:[],appointmentTotal:0};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(b.a)({},e);case I:case D:return Object(b.a)(Object(b.a)(Object(b.a)({},e),{appointments:t.payload.appointments}),{appointmentTotal:t.payload.appointmentTotal});case P:case M:return Object(b.a)(Object(b.a)({},e),{error:t.error});default:return e}},q=Object(u.b)({contact:S,appointment:L}),V=n(8),X=n.n(V),B=n(5),F=X.a.mark(K),Q=X.a.mark(W),Y=X.a.mark(Z),z=X.a.mark($),H=X.a.mark(ee);function K(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.b)({type:m});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(B.b)(g(e.t0));case 9:case"end":return e.stop()}}),F,null,[[0,5]])}function W(e){var t,n,c;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.contact,n=JSON.parse(localStorage.getItem("persist:Appointments")).contact,(c=JSON.parse(n)).contacts.push(t),c.contactTotal++,a.next=8,Object(B.b)(y(c));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(B.b)(g(a.t0));case 14:case"end":return a.stop()}}),Q,null,[[0,10]])}function Z(e){var t,n,c;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.contact,n=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).contact),c=n.contacts.findIndex((function(e){return e.id===t.id})),n.contactTotal=n.contactTotal-1,n.contacts.splice(c,1),0===n.contacts.length&&(n.contacts=[],n.contactTotal=0),a.next=9,Object(B.b)(y(n));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(B.b)(g(a.t0));case 15:case"end":return a.stop()}}),Y,null,[[0,11]])}function $(){var e;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={contacts:[],contactTotal:0},t.next=4,Object(B.b)(y(e));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Object(B.b)((n=t.t0,{type:T,payload:n}));case 10:case"end":return t.stop()}var n}),z,null,[[0,6]])}function ee(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([Object(B.c)(O,K)]);case 2:return e.next=4,Object(B.a)([Object(B.c)(x,W)]);case 4:return e.next=6,Object(B.a)([Object(B.c)(f,Z)]);case 6:return e.next=8,Object(B.a)([Object(B.c)(v,$)]);case 8:return e.next=10,Object(B.a)([Object(B.c)(C,$)]);case 10:case"end":return e.stop()}}),H)}var te=X.a.mark(se),ne=X.a.mark(oe),ce=X.a.mark(ie),ae=X.a.mark(le),re=X.a.mark(ue);function se(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.b)({type:E});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(B.b)(J(e.t0));case 9:case"end":return e.stop()}}),te,null,[[0,5]])}function oe(e){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(X.a.mark((function t(){var n,c,a,r,s,o,i,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.appointment,c=JSON.parse(localStorage.getItem("persist:Appointments")).appointment,a=JSON.parse(c),r=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).contact),s=[],o=n.contacts,i=function(e){var t=r.contacts.find((function(t){return t.id===parseInt(o[e])}));s.push(t)},l=0;l<o.length;l++)i(l);return n.contacts=s,a.appointments.push(n),a.appointmentTotal++,t.next=13,Object(B.b)(U(a));case 13:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=8;break;case 4:return t.prev=4,t.t1=t.catch(0),t.next=8,Object(B.b)(J(t.t1));case 8:case"end":return t.stop()}}),ne,null,[[0,4]])}function ie(e){var t,n,c;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.appointment,n=JSON.parse(JSON.parse(localStorage.getItem("persist:Appointments")).appointment),c=n.appointments.findIndex((function(e){return e.id===t.id})),n.appointTotal=n.appointTotal-1,n.appointments.splice(c,1),0===n.appointments.length&&(n.appointments=[],n.appointTotal=0),a.next=9,Object(B.b)(U(n));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(B.b)(J(a.t0));case 15:case"end":return a.stop()}}),ce,null,[[0,11]])}function le(){var e;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={appointments:[],appointmentTotal:0},t.next=4,Object(B.b)(U(e));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Object(B.b)((n=t.t0,{type:M,payload:n}));case 10:case"end":return t.stop()}var n}),ae,null,[[0,6]])}function ue(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([Object(B.c)(k,se)]);case 2:return e.next=4,Object(B.a)([Object(B.c)(w,oe)]);case 4:return e.next=6,Object(B.a)([Object(B.c)(_,ie)]);case 6:return e.next=8,Object(B.a)([Object(B.c)(R,le)]);case 8:case"end":return e.stop()}}),re)}var je=X.a.mark(pe);function pe(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([ee(),ue()]);case 2:case"end":return e.stop()}}),je)}var de={key:"Appointments",storage:d.a,whitelist:["contact","appointment"]},be=Object(o.a)(de,q);var Oe=function(e){var t,n=Object(j.a)(),c=Object(u.d)(be,e,(t=[n],u.a.apply(void 0,Object(l.a)(t))));return c.sagaTask=n.run(pe),c},me=n(18),he=n(9),xe=(n(54),n(36)),fe=n.n(xe),ve=(n(58),n(14)),Ce=n(39),Ne=n(37),Te=Object(Ne.a)("colorScheme"),ge=n(1),ye=function(){var e=function(){var e=Object(Ce.useMediaQuery)({query:"(prefers-color-scheme: dark)"},void 0),t=Te(),n=Object(ve.a)(t,2),a=n[0],r=n[1],s=Object(c.useMemo)((function(){return void 0===a?!!e:a}),[a,e]);return Object(c.useEffect)((function(){s?document.body.classList.add("dark"):document.body.classList.remove("dark")}),[s]),{isDark:s,setIsDark:r}}(),t=e.isDark,n=e.setIsDark;return Object(ge.jsx)("div",{className:"toggle-container",children:Object(ge.jsx)(fe.a,{checked:t,onChange:function(e){return n(e.target.checked)},icons:{checked:"\ud83c\udf19",unchecked:"\ud83d\udd06"},"aria-label":"Dark mode"})})},Ae=n(19),Se=n(69),ke=(n(60),function(e){var t=e.appointment,n=e.removeAppointment,c=t.contacts.map((function(e){return Object(ge.jsxs)("label",{className:"attendee",children:["\ud83d\udc64",e.name," | ",e.email]},e.id)}));return Object(ge.jsxs)("div",{className:"appointment-container",children:[Object(ge.jsxs)("div",{className:"section",children:[Object(ge.jsxs)("h2",{children:["\ud83d\udd16 ",t.title]}),c,Object(ge.jsxs)("h5",{children:["\ud83d\uddd3\ufe0f ",t.date," | \ud83d\udd51",t.time]})]}),Object(ge.jsx)(Se.a,{variant:"danger",className:"col-md-1",onClick:function(){return n(t)},children:"X"})]})}),Ee=(n(61),Object(s.b)((function(e){return{data:e.appointment}}),(function(e){return{onRemovePressed:function(t){return e(function(e){return{type:_,appointment:e}}(t))}}}))((function(e){var t=e.data,n=e.onRemovePressed,c=t.appointments;return Object(ge.jsxs)("div",{className:"appointment-list-header",children:[c.map((function(e){return Object(ge.jsx)(ke,{appointment:e,removeAppointment:n},e.id)})),0===c.length&&Object(ge.jsx)("div",{className:"empty-list",children:Object(ge.jsx)("label",{children:"\ud83d\udcd2 No any appointment added yet. Please fill the form to add an appointment..."})})]})}))),Pe=function(e){var t=e.contacts,n=(e.data,e.handleSelect),c=e.selectedContacts,a=t.map((function(e){return Object(ge.jsx)("option",{value:e.id,children:e.name},e.id)}));return Object(ge.jsx)("select",{multiple:!0,value:c,onChange:n,name:"contact",children:a})},we=(n(62),function(e){var t=e.onChange,n=e.contacts,c=e.handleSubmit,a=e.handleSelect,r=e.selectedContacts;return Object(ge.jsxs)("form",{onSubmit:c,children:[Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Title"}),Object(ge.jsx)("input",{type:"text",name:"title",onChange:t})]}),Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Contacts"})," ",Object(ge.jsx)(me.b,{to:"/contacts",className:"link",children:"\ud83c\udd95 Add contact"}),Object(ge.jsx)(Pe,{name:"contact",handleSelect:a,selectedContacts:r,contacts:n,onChange:t})]}),Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Date"}),Object(ge.jsx)("input",{type:"date",name:"date",onChange:t})]}),Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Time"}),Object(ge.jsx)("input",{type:"time",name:"time",onChange:t})]}),Object(ge.jsx)("input",{type:"submit",value:"ADD"})]})}),_e=(n(64),Object(s.b)((function(e){return{data:e.appointment,contacts:e.contact.contacts}}),(function(e){return{onClearPressed:function(){return e({type:R,payload:t});var t},onCreatePressed:function(t){return e(function(e){return{type:w,appointment:e}}(t))}}}))((function(e){var t=e.data,n=e.contacts,a=e.onCreatePressed,r=e.onClearPressed,s=Object(c.useState)({}),o=Object(ve.a)(s,2),i=o[0],u=o[1],j=Object(c.useState)([]),p=Object(ve.a)(j,2),d=p[0],O=p[1];return Object(ge.jsxs)("div",{className:"content",children:[Object(ge.jsxs)("section",{children:[Object(ge.jsx)("h1",{children:"Add Appointment"}),Object(ge.jsx)("hr",{}),Object(ge.jsx)(we,{contacts:n,handleSubmit:function(e){if(e.preventDefault(),!i.title||!i.date||!i.time)return alert("Please fill all required fields");e.target.reset();var n=i;n.id=t.appointmentTotal+1,n.contacts=d,a(n),u({}),O([])},onChange:function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ae.a)({},e.target.name,e.target.value))}))},handleSelect:function(e){var t=Array.from(e.target.selectedOptions,(function(e){return e.value}));if(d.includes(t[0]))return alert("Already Selected!!!");O((function(e){return[].concat(Object(l.a)(e),[t[0]])}))},selectedContacts:d})]}),Object(ge.jsxs)("section",{children:[Object(ge.jsxs)("div",{className:"appointments-header",children:[Object(ge.jsx)("h1",{children:"Appointments"}),Object(ge.jsx)(Se.a,{variant:"danger",onClick:function(){return r()},children:"Clear All"})]}),Object(ge.jsx)("hr",{}),Object(ge.jsx)(Ee,{})]})]})}))),Re=(n(65),function(e){var t=e.contact,n=e.removeContact;return Object(ge.jsxs)("div",{className:"contact-container",children:[Object(ge.jsxs)("div",{className:"section",children:[Object(ge.jsxs)("h2",{children:["\ud83d\udc64 ",t.name]}),Object(ge.jsxs)("h4",{children:["\u2709\ufe0f ",t.email]}),Object(ge.jsxs)("h5",{children:["\ud83d\udcf1 ",t.phone]})]}),Object(ge.jsx)(Se.a,{variant:"danger",className:"col-md-1",onClick:function(){return n(t)},children:"X"})]})}),De=(n(66),Object(s.b)((function(e){return{data:e.contact}}),(function(e){return{onRemovePressed:function(t){return e(function(e){return{type:f,contact:e}}(t))}}}))((function(e){var t=e.data,n=e.onRemovePressed,c=t.contacts;return Object(ge.jsxs)("div",{className:"contact-list-header",children:[c.map((function(e){return Object(ge.jsx)(Re,{contact:e,removeContact:n},e.id)})),0===c.length&&Object(ge.jsx)("div",{className:"empty-list",children:Object(ge.jsx)("label",{children:"\ud83d\udc64 No any Contact added yet.Please fill the form to add Contact!"})})]})}))),Ie=function(e){var t=e.onChange,n=e.handleSubmit;return Object(ge.jsxs)("form",{onSubmit:n,children:[Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Name"}),Object(ge.jsx)("input",{type:"text",name:"name",onChange:t})]}),Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Phone"}),Object(ge.jsx)("input",{type:"tel",name:"phone",onChange:t})]}),Object(ge.jsxs)("div",{className:"form-group",children:[Object(ge.jsx)("label",{children:"Email"}),Object(ge.jsx)("input",{type:"email",name:"email",onChange:t})]}),Object(ge.jsx)("input",{type:"submit",value:"ADD"})]})},Me=(n(67),Object(s.b)((function(e){return{contacts:e.contact}}),(function(e){return{onClearPressed:function(){return e({type:v,payload:t});var t},onCreatePressed:function(t){return e(function(e){return{type:x,contact:e}}(t))}}}))((function(e){var t=e.contacts,n=e.onCreatePressed,a=e.onClearPressed,r=Object(c.useState)({}),s=Object(ve.a)(r,2),o=s[0],i=s[1];return Object(ge.jsxs)("div",{className:"content",children:[Object(ge.jsxs)("section",{children:[Object(ge.jsx)("h1",{children:"Add Contact"}),Object(ge.jsx)("hr",{}),Object(ge.jsx)(Ie,{handleSubmit:function(e){e.preventDefault(),e.target.reset();var c=o;return o.name&&o.phone&&o.email?t.contacts.find((function(e){return e.phone===o.phone||e.email===o.email||e.name===o.name}))?alert("Already Exist"):(c.id=t.contactTotal+1,n(c),void i({})):alert("Please add contact")},onChange:function(e){i((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ae.a)({},e.target.name,e.target.value))}))}})]}),Object(ge.jsxs)("section",{children:[Object(ge.jsxs)("div",{className:"contacts-header",children:[Object(ge.jsx)("h1",{children:"Contacts"}),Object(ge.jsx)(Se.a,{variant:"danger",onClick:function(){return a()},children:"Clear All"})]}),Object(ge.jsx)("hr",{}),Object(ge.jsx)(De,{})]})]})})));var Je=function(){var e="/contacts",t="/appointments";return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("nav",{children:Object(ge.jsxs)("div",{className:"nav-header",children:[Object(ge.jsx)(me.b,{to:e,className:"link",activeClassName:"active",children:"Contacts"}),Object(ge.jsx)(me.b,{to:t,className:"link",activeClassName:"active",children:"Appointments"}),Object(ge.jsx)(ye,{})]})}),Object(ge.jsx)("main",{children:Object(ge.jsxs)(he.d,{children:[Object(ge.jsx)(he.b,{exact:!0,path:"/",children:Object(ge.jsx)(he.a,{to:e})}),Object(ge.jsx)(he.b,{path:e,children:Object(ge.jsx)(Me,{})}),Object(ge.jsx)(he.b,{path:t,children:Object(ge.jsx)(_e,{})})]})})]})},Ue=Object(ge.jsx)(me.a,{children:Object(ge.jsx)(Je,{})}),Ge=Oe({}),Le=Object(o.b)(Ge);r.a.render(Object(ge.jsx)(s.a,{store:Ge,children:Object(ge.jsx)(i.PersistGate,{loading:Object(ge.jsx)("div",{children:"Loading..."}),persistor:Le,children:Ue})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.bdff18df.chunk.js.map